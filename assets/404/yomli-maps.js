/************************************
 * Tiles                            *
 ***********************************/

RL.Tile.Types = {
	floor: {
		name: 'Floor',
		char: '.',
		color: '#444',
		bgColor: '#222',
		passable: true,
		blocksLos: false
	},
	wall: {
		name: 'Wall',
		char: '#',
		color: '#777',
		bgColor: '#2e2e2e',
		passable: false,
		blocksLos: true,
		bump: function(entity){
			if(!this.passable){
				//this.game.console.log('You cannot move through this <strong>' + this.name + '</strong> no matter how hard you try.');
			return false;
			}
			return true;
		}
	},
	door: {
		name: 'Door',
		char: '+',
		color: 'yellow',
		bgColor: '#222',
		passable: false,
		blocksLos: true,
		bump: function(entity){
			if(!this.passable){
				this.passable = true;
				this.blocksLos = false;
				this.char = "'";
				//this.game.console.log('You open the <strong>' + this.name + '</strong>.');
				return true;
			}
			return false;
		}
	},
	water: {
		name: 'Water',
		char: '~',
		color: 'blue',
		bgColor: 'navy',
		passable: true,
		blocksLos: false
	},
	wood: {
		name: 'Wood',
		char: '%',
		color: 'green',
		bgColor: 'saddlebrown',
		passable: false,
		blocksLos: true,
		bump: function(entity){
			if(!this.passable){
				return false;
			}
			return true;
		}
	},
	cavern: {
		name: 'Wall',
		char: '#',
		color: 'sienna',
		bgColor: 'saddlebrown',
		passable: false,
		blocksLos: true,
		bump: function(entity){
			if(!this.passable){
				return false;
			}
			return true;
		}
	},
	grass: {
		name: 'Floor',
		char: '.',
		color: 'darkgreen',
		bgColor: 'green',
		passable: true,
		blocksLos: false
	},
};

var mapCharToType = {
	'#': 'wall',
	'.': 'floor',
	'+': 'door',
	'~': 'water',
	'%': 'wood',
	'ç': 'cavern',
	';': 'grass',
};


/************************************
 * Maps                             *
 ***********************************/



// Map 1 - Vampire bat
var map1 = [
	"###################################",
	"#####...###########################",
	"#####h########.H#######.d....######",
	"#..H#.#...####.########.####.######",
	"#.###$#.z.####.########.####+######",
	"#.###.+...+.##z########.####......#",
	"#.###.#...#.##....z.....####..#...#",
	"#.....#...#.#########.#.####......#",
	"#######..z+.#########.#...##....#.#",
	"#######...#.#########.###.##......#",
	"#######...#.#########...#.##..#...#",
	"###########.###########.#.##....B.#",
	"#########..d####}...d.#.#.##...#..#",
	"#########+#######.....#.#.##......#",
	"#########..d..###.z...#.#.##.#....#",
	"#########.....###.....+.#.##......#",
	"#########$....+.#########.##...#..#",
	"###############h#########.##......#",
	"##########..H##.#.......#.#########",
	"##########+####.#.#####.#.#########",
	"#########.z...#.#.#.z.......#######",
	"#######p#...z.#.#.#################",
	"#####...#.....#.#.......+...+~ççççç",
	"#####.#######+#.#######.ç~~~ç~ççççç",
	"ççç.....d...............ç~f~ç~ççççç",
	"ççç.ççççççççççççççççççç.ç~~~ç~ççççç",
	"çdç.ç..d~~çççççççççççd..çf~~çfççççç",
	"ç.ç.ç.ççç~ççççççççççççç.ç~~~ç~ççççç",
	"ç...ç..yç~ççççççççççççç.ç~~~ç~ççççç",
	"ç.ççç.ççç~ççççççççççççççç~f~ç~ççççç",
	"ç.ççç~ççç.ççççççççççççççç~~~+~~~~~ç",
	"ç.çH..ç...ççççççççççççççççççççççç~ç",
	"ç.ççççç.ççççççççççççççççççççççççç~ç",
	"ç.~~d...ççççççççççççççççççççççççç$ç",
	"ççççççççççççççççççççççççççççççççççç"
];

var entityMap1 = {
	'z': 'zombie',
	'$': 'greenmoney',
	'p': 'purplemoney',
	'y': 'yellowmoney',
	'}': 'upgrade',
	'h': 'heart',
	'H': 'bigheart',
	'd': 'hound',
	'B': 'bossBat',
	'x': 'cross',
	'f': 'frogman'
};


// Map 2 - Mummy
var map2 = [
	"#######################%%%%%%%%%%%%%%%%%%%%%%%",
	"#################.....#.h...######%%%%%y;;%%%%",
	"#################.....#.....##.k.+;%%%%;;;%%%%",
	"########}##..s..#..h..+...s.##...#;%%%%t;;%%%%",
	"########.##..p..#.....#.....##x..#;%%%%+%%%%%%",
	"######g...+.....+.....#.t...######;;;;;c;;;%%%",
	"###########...s.#.....##+###%%%%%%%%%%;;;%;%%%",
	"#############+###.....#%;;;;;;;;;;;;;%;;;%;%%%",
	"#####.......#.###.....#%;;;;;;;;;;;;;%;;;%;%%%",
	"#####.......#.#########%;;;%;;;;%;;;;%;;;%c%%%",
	"#####.......+.##;;;;;;;%;;;;;;;;;;;;;%;;;%;%%%",
	"#####...H...#.##;;;;;;;%;;;;;;M;;;;;;%;;;%;%%%",
	"###.........#.##;;;;;;;%;;;;;;;;;;;;;%;;;%H%%%",
	"###.#.......####;;;;;;;%;;;%;;;;%;;;;%;;;%%%%%",
	"###.#..k....+;;;;;;;;;;%;;;;;;;;;;;;;+t;;+m;;%",
	"###.#.......####;;h;;;;%;;;;;;;;;;;;;%;;c%;;;%",
	"#.#.........####;;;;;;;%%%%%%%########;;;%;y;%",
	"#.####.#########;;;;;;;%%;;;;;##g...$#;;;%;;;%",
	"#.+......k.....+;;;;;;;%%;c;;;##....H#;;;%;m;%",
	"#.#$$..k.......#%%%%%%%%%;;;;;####+###%%;%;;;%",
	"#H#$$..........+;;;;;;;;;;;;;;;;;;;c;;;;;+;;;%",
	"#.#######+#####%;;;;;;;;;;;;;;;;;;;;;#########",
	"#.#...#.......#%;;;;;;;;;;;;;;;;;;s;;+...#h..#",
	"#.#...#...s...#%;;;;s;;;;;;;;;;;;;;;;#...#...#",
	"#.+...#.......#%;;;;;;;;;~~;;h;;;;;;;#.g.+...#",
	"###...#....h..#%;;;;;;;;~;;~;;;;;;;;;#...#+###",
	"###.s.#.s.....#%;;;;;;;~;~~;~;;;;;;;;#.p.#;%%%",
	"###...#.......#%;;;;;;~;~~~~;~;;;;;;;#...#c%%%",
	"###...#.......#%;;c;;~;~~%%~~;~;;;;;;#...#;%%%",
	"###...#.......#%;;;;;~;~~%%~~;~;;;;;;#...#;%%%",
	"###...#...s...#%;;;;;;~;~~~~;~;;;;;;;#...#;%%%",
	"###...#.......#%;;;;;;;~;~~;~;;;;;;;;#####;%%%",
	"###...#.......#%;;;;;;;;~;;~;;;;;;;;;;;;;;;%%%",
	"#####+#+#.#+#+#%;;;;;;;;;~~;;;;;;;;;;%%%;%%%%%",
	"#####...#.#.y.#%;;;;;;;;;;;;;;;;;;;;;%%c;%%%%%",
	"#########.#####%;;;;;c;;;;;;;;;;s;;;;%%;%%%%%%",
	"#########.#####%;;;;;;;;;;;;;;;;;;;;;%%h%%%%%%",
	"#########.#####%;;;;;;;;;;;;;;;;;;;;;%%%%%%%%%",
	"#########..+...%;;;;;;;;$;;;;;;;;;;;;%%%%%%%%%",
	"############.g.#+###%%%%%%%%%%%###+##%%%%%%%%%",
	"############...+H+...m.........m...##%%%%%%%%%",
	"##################....;....%p########%%%%%%%%%",
	"##################h;....m...;#################",
	"##############################################",
];


var entityMap2 = {
	'$': 'greenmoney',
	'p': 'purplemoney',
	'y': 'yellowmoney',
	'}': 'upgrade',
	'x': 'cross',
	'h': 'heart',
	'H': 'bigheart',
	'k': 'knight',
	'm': 'monkey',
	'M': 'bossMummy',
	'g': 'ghost',
	'c': 'crow',
	's': 'skeleton',
	't': 'tower',
};

// Map 3 - Undead monster
var map3 = [
			"çççççççççççççççççççççççççççççççççççççççç#####################################",
			"çççççççççççççççççççççççççççççç~ç~ççççççç#####################################",
			"ççççççççççççççççççççççççççççç~~~~~~~çççç#####################################",
			"çççççççççççç~çççççççççççççççç~~~~~~~~ççç#####################################",
			"çççççççççç~~$ç~ççççççççççççç~~$~~~~~~~~ç###################y.....h...+..#####",
			"ççççççççç~~~~~ççççççççççççç~~~~çç~~~~~~ç###################d##########..#####",
			"çççççç~ç~~~~~~~~ççççççççç~~.fçççç~~~~~~ç###################.##########e.#####",
			"ççççççç.f~~~~.f...ççç.çççç...fçççç~~~ççç###################.##########..#####",
			"çççççç.................ç.ç....çççf...ççç###################.##########m.#####",
			"ççççç................................ççç###################d##########..#####",
			"ççççç..............................ççççç###################H##########..#####",
			"ççç~........p.ç..ç..çç.............ççççç###################+##########.e#####",
			"ççhf.......çbççççççç..ççç.......çççççççç###########..............#####..#####",
			"ççç.......ççççççççççççççç...h.....çççççç###########..###....###..#####m.#####",
			"ççççç....ççççççççççççç.ç..........çççççç###########..........m...#####..#####",
			"çççççç....ççççççççççççç~~~...f......çççç###########..............#####..#####",
			"ççççç....~~çççççççççççç~~~~~~~çç.....ççç###########..............#####e.#####",
			"çççç......çççççççççççççç~+ç~~ççç......çç###########......U.......#####..#####",
			"çççç........bçççççççççççç}~çççççç....ççç###########..............#####m.#####",
			"çççç.....ççççççççççççççççççççççççç....çç###########..............#####..#####",
			"ççççç.....ççççççççççççççççççççççççç...çç###########..............#####.e#####",
			"çççççç......bççççççççççççççççççççç...H.ç###########..###....###..#####..#####",
			"ççççç.....ççççççççççççççççççççççç....ççç###########..............#####..#####",
			"çççç...b.~~~~ççççççççççççççççççç......çççççç##########################..#####",
			"ççç$.....~ççççççççççççççççççççççb........+...........e........m.........#####",
			"çç........çççççççççççççççççççççççç....ççç####################################",
			"ç....b....çççççççççççççççççççççççççç.ççç#####################################",
			"çç.......ççççççççççççççççççççççççççççççç#####################################",
			"ççç........Hçççççççççççççççççççççççççççç#####################################",
			"çç.çç..ççççççççççççççççççççççççççççççççç#####################################",
			"çççççççççççççççççççççççççççççççççççççççç#####################################",

			];


var entityMap3 = {
	'$': 'greenmoney',
	'p': 'purplemoney',
	'y': 'yellowmoney',
	'}': 'upgrade',
	'x': 'cross',
	'h': 'heart',
	'H': 'bigheart',
	'd': 'dragon',
	'e': 'eagle',
	'U': 'bossMonster',
	'm': 'monkey',
	'b': 'bat',
	'f': 'frogman',

};

// Map 4 - Death
var map4 = [
			"###########################################################",
			"#..............############################################",
			"#..............############################################",
			"#.......D......############################################",
			"##....#####...##..k......k...t.............t..k...........#",
			"#..............+......t.........k...t.............t.......#",
			"#######################################################+###",
			"#p......#}....r.......r........s...r....+....s....+.......#",
			"#.......#H........s...........r.........#..########...H...#",
			"#...k...###########...r...s........s....#..####...#.......#",
			"#.......+....$....#.......r........r....#.....+d..#.......#",
			"#####+###########+#############################+###########",
			"#.......#......$....###########################...........#",
			"#....s..#..h....$...+.............m...........+...s.......#",
			"#.......#######################################...........#",
			"#......p#######################################.......s...#",
			"#####+############################################+########",
			"#....d...........#}.....y...#.t.........r.........k.......#",
			"#................#......H...+t.t..............r...........#",
			"#.....h#....r....########################################+#",
			"#................#..h..#...###########............r...#H.H#",
			"#................+.....#...#.........+.....#p.........#####",
			"##################.....#.k.+..########...........s........#",
			"#.#.....s.....#..m.....#...#..#y..####.......r.....#......#",
			"#.......h.....+........#pyy#..#...#..+.........r........h.#",
			"#...s...#..h..##############..#...#..###############+######",
			"#.................#......r....#.h.#..+........#...........#",
			"#..........s......###+#########...####........#....s......#",
			"##+#####+############.s......###+#####...s....#........s..#",
			"#...#H....###########....s...#...m...+........#..s........#",
			"#...#..k..###########H.......#...#####.......h#...........#",
			"#...########################+#...###################+######",
			"#.h.#..+...........m.........#...########...r.....r.......#",
			"#...#..#######################...######..............r....#",
			"#...#..#....h.....+..........#...####..r....#k.#..........#",
			"#...##+##+#########.m....s...#...##..........##....r......#",
			"#...#......############......#...#...k.......##..........##",
			"#...+t.....########...#......##+###....r....#.H#....r....##",
			"###################...########...###...................####",
			"#........#$.....+..s..#..k.......#####....r....r.....######",
			"#........#..m...#.....#..........#######...........########",
			"#........########.....+.....s....##########..d...##########",
			"#........+...H..+.....#..........############x#############",
			"###########################################################",

			];


var entityMap4 = {
	'D': 'bossDeath',
	'$': 'greenmoney',
	'p': 'purplemoney',
	'y': 'yellowmoney',
	'}': 'upgrade',
	'h': 'heart',
	'H': 'bigheart',
	'k': 'knight',
	't': 'tower',
	'x': 'cross',
	'r': 'redskeleton',
	's': 'skeleton',
	'm': 'monkey',
	'd': 'dragon',
};

// Map 5 - Yomli
var map5 = [
			"##########################################",
			"#.#.Y#.###################################",
			"#......###################################",
			"#......###################################",
			"#......###################################",
			"#......###################################",
			"#......+h....$......}................H...#",
			"##########################################",
			
			];


var entityMap5 = {
	'Y': 'bossYomli',
	'}': 'upgrade',
	'h': 'heart',
	'H': 'bigheart',
};



var playerStartX = [7, 1, 5, 2, 40];
var playerStartY = [1, 16, 29, 42, 6];

var map = [map1, map2, map3, map4, map5];
var entityMap = [
	entityMap1, 
	entityMap2,
	entityMap3,
	entityMap4,
	entityMap5
];